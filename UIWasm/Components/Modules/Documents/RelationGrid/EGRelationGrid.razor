@using EncyclopediaGalactica.BusinessLogic.Contracts
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
<FluentGrid Justify="JustifyContent.SpaceEvenly" Style="border: #1b6ec2; border-style: solid; border-width: 1px;">
    <FluentGridItem xs="2">Relations</FluentGridItem>
    <FluentGridItem xs="8"></FluentGridItem>
    <FluentGridItem xs="2">
        <FluentButton IconStart="@(new Icons.Filled.Size24.AddCircle())"
                      OnClick="@(async () => await HandleClickOnAddAsync().ConfigureAwait(false))">
            Add
        </FluentButton>
    </FluentGridItem>
    <FluentGridItem xs="12">
        <FluentDataGrid TGridItem="RelationResult"
                        ItemsProvider="GridItemsProvider"
                        Virtualize="true"
                        @ref="Grid">
            <PropertyColumn Title="Id" Property="@(item => item.Id)"/>
            <PropertyColumn Title="Left Document Id" Property="@(item => item.LeftDocument.Id)"/>
            <PropertyColumn Title="Left Document Title" Property="@(item => item.LeftDocument.Name)"/>
            <PropertyColumn Title="Relation Type" Property="@(item => item.RelationType.Name)"/>
            <PropertyColumn Title="Right Document Id" Property="@(item => item.RightDocument.Id)"/>
            <PropertyColumn Title="Right Document Title" Property="@(item => item.RightDocument.Name)"/>
            <TemplateColumn Title="Actions">
                <FluentButton IconEnd="@(new Icons.Regular.Size16.Edit())"
                              OnClick="@(async e => await HandleOnClickEditAsync(e, context).ConfigureAwait(false))">
                </FluentButton>
                <FluentButton IconEnd="@(new Icons.Regular.Size16.Delete())"
                              OnClick="@(async e => await HandleOnClickDeleteAsync(e, context).ConfigureAwait(false))">
                </FluentButton>
            </TemplateColumn>
        </FluentDataGrid>
    </FluentGridItem>
</FluentGrid>
